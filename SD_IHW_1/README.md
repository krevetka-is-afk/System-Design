# Финансовый менеджер (Finance Manager)

Консольное приложение для управления личными финансами, разработанное с использованием .NET 8 и следующее принципам чистой архитектуры.

## Описание проекта

Приложение позволяет пользователям управлять своими финансами через консольный интерфейс, предоставляя следующие возможности:
- Управление банковскими счетами (создание, просмотр, удаление)
- Управление категориями доходов и расходов
- Ведение финансовых операций
- Просмотр статистики и балансов
- Экспорт данных в различных форматах (JSON, CSV, YAML)

## Архитектура

Проект реализован с использованием следующих архитектурных принципов и паттернов:

### Clean Architecture
Проект разделен на слои согласно принципам чистой архитектуры:
- **Core** - содержит бизнес-логику и модели данных
- **Infrastructure** - реализует доступ к данным и внешние зависимости
- **ConsoleUI** - пользовательский интерфейс
- **Tests** - модульные тесты

### SOLID Principles
- **Single Responsibility Principle**: каждый класс имеет одну ответственность
- **Open/Closed Principle**: использование интерфейсов для расширяемости
- **Liskov Substitution Principle**: корректное использование наследования
- **Interface Segregation**: разделение интерфейсов по назначению
- **Dependency Inversion**: внедрение зависимостей через конструктор

### Design Patterns
- **Repository Pattern**: для абстракции доступа к данным
- **Factory Pattern**: для создания объектов
- **Visitor Pattern**: для реализации экспорта данных
- **Dependency Injection**: для управления зависимостями

## Технологии

- **.NET 8**
- **Entity Framework Core** с SQLite
- **Microsoft.Extensions.DependencyInjection**
- **Microsoft.Extensions.Logging**
- **YamlDotNet**

## Структура проекта

```
FinanceManager/
├── FinanceManager.Core/
│   ├── Models/
│   ├── Decorators/
│   ├── Interfaces/
│   ├── Services/
│   ├── Factories/
│   ├── Services/
│   └── Visitors/
├── FinanceManager.Infrastructure/
│   ├── Data/
│   ├── Migrations/
│   └── Repositories/
├── FinanceManager.ConsoleUI/
│   ├── Services/
│   ├── Menu/
│   └── Program.cs
└── FinanceManager.Tests/
```

## Основные компоненты

### Models
- `BankAccount`: Модель банковского счета
- `Category`: Модель категории (доход/расход)
- `Operation`: Модель финансовой операции

### Services
- `FinanceService`: Основная бизнес-логика
- `ConsoleService`: Взаимодействие с пользователем
- `DataExporter`: Экспорт данных в различных форматах

### Repositories
- `BankAccountRepository`
- `CategoryRepository`
- `OperationRepository`

## Установка и запуск

1. Клонируйте репозиторий:
```bash
git clone [url-репозитория]
```

2. Перейдите в директорию проекта:
```bash
cd FinanceManager
```

3. Восстановите зависимости и соберите проект:
```bash
dotnet restore
dotnet build
```

4. Запустите приложение:
```bash
cd FinanceManager.ConsoleUI
dotnet run
```

## Использование

1. **Управление счетами**
   - Создание нового счета (опция 1)
   - Просмотр списка счетов (опция 2)
   - Удаление счета (опция 3)

2. **Управление категориями**
   - Создание категории (опция 4)
   - Просмотр категорий (опция 5)
   - Удаление категории (опция 6)

3. **Финансовые операции**
   - Создание операции (опция 7)
   - Просмотр операций (опция 8)
   - Удаление операции (опция 9)

4. **Аналитика**
   - Просмотр общего баланса (опция A)
   - Просмотр статистики (опция B)

5. **Экспорт данных**
   - Экспорт в JSON/CSV/YAML (опция E)

## Особенности реализации

1. **Обработка финансовых операций**
   - Валидация данных при создании операций
   - Автоматическое обновление баланса счета

2. **Безопасность данных**
   - Проверка корректности вводимых данных
   - Защита от некорректных операций
   - Валидация ID при операциях с сущностями

3. **Персистентность данных** не обошлось без помощи от claude...
   - Использование SQLite для хранения данных
   - Поддержка миграций через Entity Framework Core
   - Возможность экспорта данных в различных форматах

## Тестирование

Для запуска тестов выполните:
```bash
dotnet test
```
